<div class="bg-white rounded-lg p-4 shadow-lg mb-4">
  <div *ngIf="post.isRetweet; else normalPost" class="retweet-indicator">
    <!-- Retweet-specific content -->
    <p>This is a retweet by {{ post.retweet_user_id }} of post {{ post.original_post_id }}</p>
  </div>

  <ng-template #normalPost>
    <!-- Post Header -->
    <div class="flex items-center mb-4">
        <img [src]="this.avatarSafeUrl" alt="User profile image" class="inline-block h-10 w-10 rounded-full mr-4"/>
        <div>
            <p class="font-bold text-md text-gray-800">{{ username }}</p>
            <p class="text-sm text-black-600">{{ post.created_at | date: 'medium' }}</p>
        </div>
    </div>
    <!-- Post Content -->
    <p class="text-gray-800 mt-3">{{ post.content }}</p>
    <!-- Post Image -->
    <div *ngIf="post.image_url" class="mt-4">
        <img [src]="this.postSafeUrl" alt="Post image" class="rounded-lg"/>
    </div>
    <!-- Interaction buttons like, comment, etc. -->
  <div class="flex items-center space-x-2">
    <!-- Like Button -->
    <button (click)="toggleLike(post.id)" class="flex items-center space-x-2">
      <svg [ngClass]="{'text-red-500': isLiked(post.id), 'text-gray-400': !isLiked(post.id)}"
           class="h-6 w-6 cursor-pointer hover:text-red-600 transition duration-300 ease-in-out"
           fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>
      </svg>
      <span class="text-gray-800">{{ getLikeCount(post.id) | number }}</span>
    </button>

    <!-- Comment Button  -->
    <button (click)="commentPost(post.id)" class="flex items-center space-x-2">
      <svg class="h-6 w-6 cursor-pointer text-gray-400 hover:text-blue-600 transition duration-300 ease-in-out"
           fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/>
      </svg>
      <span class="text-gray-800">{{ getCommentCount(post.id) | number }}</span>
    </button>

    <!-- Retweet Button  -->
    <button (click)="commentPost(post.id)" class="flex items-center space-x-2">
      <svg class="h-6 w-6 cursor-pointer text-gray-400 hover:text-blue-600 transition duration-300 ease-in-out"
           fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"/>
      </svg>
      <span class="text-gray-800">{{ getCommentCount(post.id) | number }}</span>
    </button>

  </div>
  </ng-template>
</div>

